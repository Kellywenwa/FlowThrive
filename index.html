<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlowThrive ✨ Empower Your Cycle</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js">
  <style>
    /* CSS: Styles everything! Customize colors/fonts here. */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Poppins', sans-serif; 
      background: linear-gradient(135deg, #f9d1d4 0%, #e8c9e8 50%, #b8d8f0 100%); 
      min-height: 100vh; 
      color: #333; 
    }
    nav { 
      background: rgba(255,255,255,0.9); 
      padding: 1rem; 
      display: flex; 
      justify-content: center; 
      box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
    }
    nav button { 
      background: #ff9ff3; 
      border: none; 
      padding: 0.8rem 1.5rem; 
      margin: 0 0.5rem; 
      border-radius: 25px; 
      font-weight: 600; 
      cursor: pointer; 
      transition: all 0.3s; 
    }
    nav button.active, nav button:hover { 
      background: #ff6b9d; 
      transform: scale(1.05); 
    }
    section { 
      display: none; 
      max-width: 800px; 
      margin: 2rem auto; 
      padding: 2rem; 
      background: white; 
      border-radius: 20px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
    }
    section.active { display: block; }
    h1 { color: #ff6b9d; text-align: center; margin-bottom: 1rem; }
    h2 { color: #ff9ff3; margin: 1.5rem 0 1rem; }
    .card { background: #f8f9ff; padding: 1.5rem; border-radius: 15px; margin: 1rem 0; }
    .accordion { 
      background: #e8f4fd; 
      cursor: pointer; 
      padding: 1rem; 
      border-radius: 10px; 
      margin: 0.5rem 0; 
      transition: 0.3s; 
    }
    .accordion:hover { background: #d1e8ff; }
    .panel { display: none; padding: 1rem; background: white; border-radius: 10px; }
    input, select, button { 
      padding: 0.8rem; 
      border: 2px solid #ff9ff3; 
      border-radius: 10px; 
      font-size: 1rem; 
    }
    button { background: #ff9ff3; color: white; cursor: pointer; transition: 0.3s; }
    button:hover { background: #ff6b9d; }
    #chart { max-height: 300px; }
    .badge { background: gold; padding: 0.5rem 1rem; border-radius: 20px; font-weight: bold; display: inline-block; }
    .tip { font-size: 1.2rem; text-align: center; padding: 2rem; background: linear-gradient(45deg, #ffecd2, #fcb69f); border-radius: 20px; }
    /* Cartoon character! Customize face. */
    .character { text-align: center; font-size: 4rem; margin: 1rem; }
  </style>
</head>
<body>
  <!-- HTML Structure: Like rooms in a house. -->
  <nav>
    <button onclick="showSection('home')" class="active">🏠 Home</button>
    <button onclick="showSection('education')">📚 Education</button>
    <button onclick="showSection('tracker')">📅 Tracker</button>
    <button onclick="showSection('tips')">💡 Tips</button>
  </nav>

  <!-- Home Section -->
  <section id="home" class="active">
    <h1>🌸 Welcome to FlowThrive! 🌸</h1>
    <div class="character">😊👋</div>
    <div class="card">
      <p><strong>Your cycle is <em>powerful</em>—not a secret!</strong> Learn, track, thrive. Science-based, stigma-free, for <strong>everyone who menstruates</strong>.</p>
    </div>
    <div class="card">
      <h2>✨ Quick Features</h2>
      <ul>
        <li>📚 Interactive lessons</li>
        <li>📅 Predict your next period</li>
        <li>💡 Daily self-care tips</li>
        <li>🏅 Earn badges!</li>
      </ul>
    </div>
  </section>

  <!-- Education Section -->
  <section id="education">
    <h1>📚 Cycle Education Hub</h1>
    <div class="card">
      <h2>🔬 Your Cycle Explained (28-day average)</h2>
      <div class="accordion" onclick="togglePanel(this)">Menstrual Phase (Days 1-5) 👉</div>
      <div class="panel"><p>Bleeding time! Uterus sheds lining. <strong>Tip:</strong> Rest, heat pads, iron-rich foods. <em>Normal!</em></p></div>
      
      <div class="accordion" onclick="togglePanel(this)">Follicular (Days 6-14) 👉</div>
      <div class="panel"><p>Energy rises! Egg matures. <strong>Tip:</strong> Exercise, fresh foods.</p></div>
      
      <div class="accordion" onclick="togglePanel(this)">Ovulation (Day 14) 👉</div>
      <div class="panel"><p>Egg releases. Fertile window! Some feel twinges.</p></div>
      
      <div class="accordion" onclick="togglePanel(this)">Luteal (Days 15-28) 👉</div>
      <div class="panel"><p>PMS possible. Progesterone peaks. <strong>Tip:</strong> Magnesium, sleep.</p></div>
    </div>
    <div class="card">
      <h2>🛑 Myths Busted</h2>
      <div class="accordion" onclick="togglePanel(this)">"Periods sync with friends" ❌</div>
      <div class="panel"><p>No science! Just coincidence.</p></div>
      <div class="accordion" onclick="togglePanel(this)">"You can't swim/exercise" ❌</div>
      <div class="panel"><p>Totally can—with the right products!</p></div>
    </div>
    <div class="card">
      <h2>🚨 When to See a Doctor</h2>
      <ul>
        <li>Bleeding soaks pad/tampon in 1 hour</li>
        <li>Pain stops you from school/work</li>
        <li>No period for 3+ months (not pregnant)</li>
      </ul>
    </div>
  </section>

  <!-- Tracker Section -->
  <section id="tracker">
    <h1>📅 Your Cycle Tracker</h1>
    <div class="card">
      <label>Last Period Start:</label><br>
      <input type="date" id="lastStart" onchange="saveData()">
      <br><br>
      <label>Avg Cycle Length (days):</label><br>
      <input type="number" id="avgLength" value="28" min="21" max="35" onchange="saveData()">
      <br><br>
      <button onclick="logToday()">Log Today's Mood & Flow 🎯</button>
    </div>
    <div id="prediction" class="tip">Enter dates to predict! 🔮</div>
    <canvas id="chart"></canvas>
    <div id="logs"></div>
    <div id="badge"></div>
  </section>

  <!-- Tips Section -->
  <section id="tips">
    <h1>💡 Your Daily Tips</h1>
    <div id="dailyTip" class="tip">
      Log your cycle in Tracker for personalized tips! 🌟
    </div>
  </section>

  <script>
    /* JS: Makes it interactive! Read like a story. */
    let data = JSON.parse(localStorage.getItem('flowData')) || { lastStart: '', avgLength: 28, logs: [], streak: 0 };

    // Show/hide sections
    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      if (id === 'tracker') updateTracker();
      if (id === 'tips') updateTips();
    }

    // Toggle education panels
    function togglePanel(el) {
      el.nextElementSibling.style.display = el.nextElementSibling.style.display === 'block' ? 'none' : 'block';
    }

    // Save data to browser
    function saveData() {
      data.lastStart = document.getElementById('lastStart').value;
      data.avgLength = parseInt(document.getElementById('avgLength').value);
      localStorage.setItem('flowData', JSON.stringify(data));
      updateTracker();
    }

    // Predict & update
    function updateTracker() {
      if (!data.lastStart) return;
      const today = new Date();
      const last = new Date(data.lastStart);
      const next = new Date(last.getTime() + data.avgLength * 24 * 60 * 60 * 1000);
      document.getElementById('prediction').innerHTML = `Next period: <strong>${next.toDateString()}</strong> (${Math.ceil((next - today) / (24*60*60*1000))} days) ✨`;

      // Simple chart (mood over days)
      const ctx = document.getElementById('chart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.logs.slice(-7).map(l => l.date.slice(5)),
          datasets: [{ label: 'Energy (1-5)', data: data.logs.slice(-7).map(l => l.energy || 3), borderColor: '#ff9ff3' }]
        }
      });

      // Show logs
      document.getElementById('logs').innerHTML = data.logs.slice(-5).map(l => `<div class="card"><strong>${l.date}</strong>: ${l.flow} | Mood: ${l.mood} | Energy: ${l.energy}/5</div>`).join('');

      // Badge for streak
      document.getElementById('badge').innerHTML = data.streak >= 3 ? '<span class="badge">🏅 Streak Master! Keep going!</span>' : '';
    }

    // Log today
    function logToday() {
      const today = new Date().toISOString().slice(0,10);
      if (data.logs.some(l => l.date === today)) return alert('Already logged today! 😊');
      const flow = prompt('Flow: light/med/heavy/none') || 'none';
      const mood = prompt('Mood: happy/sad/okay') || 'okay';
      const energy = prompt('Energy (1-5):') || 3;
      data.logs.push({date: today, flow, mood, energy: parseInt(energy)});
      data.streak++;
      saveData();
      updateTracker();
    }

    // Daily tip based on phase
    function updateTips() {
      if (!data.lastStart) return;
      const today = new Date();
      const last = new Date(data.lastStart);
      const daysSince = Math.floor((today - last) / (24*60*60*1000)) % data.avgLength;
      let tip;
      if (daysSince <= 5) tip = '🍫 Menstrual: Chocolate, heat pad, gentle walks. You got this!';
      else if (daysSince <= 14) tip = '💃 Follicular: High energy—dance, eat greens!';
      else if (daysSince <= 16) tip = '🌸 Ovulation: Fertile vibes. Hydrate!';
      else tip = '🛀 Luteal: PMS? Magnesium, bubble bath, breathe.';
      document.getElementById('dailyTip').innerHTML = tip;
    }

    // Load on start
       // Load saved values
    document.getElementById('lastStart').value = data.lastStart;
    document.getElementById('avgLength').value = data.avgLength;

    // AUTO-UPDATE TRACKER WHEN PAGE LOADS
    if (document.getElementById('tracker').classList.contains('active')) {
      updateTracker();
    }
  </script>
</body>
</html>
